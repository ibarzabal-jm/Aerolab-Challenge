(this.webpackJsonprewardsapp=this.webpackJsonprewardsapp||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(81),s=n.n(i),a=(n(94),n(11)),o=n(4),u=n(132),l=n(119),j=n(120),d=n(3),b=function(){return Object(d.jsx)(l.a,{background:"url(../assets/header.png) center right",backgroundSize:"cover",minHeight:"300px",width:"100%",children:Object(d.jsx)(j.a,{color:"white",fontSize:"64px",alignSelf:"flex-end",padding:6,children:"Electronics"})})},h=n(121),p=n(124),x=n(133),f=n(125),g=n(62),O=n(108),m=n(122),v=function(e){var t=e.sortSelected,n=e.handleChange,r=Object(O.a)({base:"base",sm:"small"});return Object(d.jsxs)(u.a,{alignItems:"center",direction:{base:"column",sm:"row"},children:[Object(d.jsx)(h.a,{color:"a3a3a3",children:"Sort by:"}),Object(d.jsx)(u.a,{direction:"row",spacing:2,children:[{value:"recent",fullText:"Most Recent",mobile:"Recent"},{value:"lowest",fullText:"Lowest Price",mobile:"Lowest"},{value:"highest",fullText:"Highest Price",mobile:"Highest"}].map((function(e){return Object(d.jsx)(m.a,{as:"button",bg:e.value===t?"primary":"#ededed",color:e.value===t?"white":"#a3a3a3",cursor:"pointer",paddingY:1,paddingX:4,rounded:999,onClick:function(){return n(e.value)},children:Object(d.jsx)(h.a,{children:"base"===r?e.mobile:e.fullText})},e.value)}))})]})},w=n(123),y=n(129),S=n(17),C=n.n(S),I=n(45),P=n(31),k="https://coding-challenge-api.aerolab.co/",z={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDM5YTU4MzdlNzE4NzAwMjBlMzhmMzgiLCJpYXQiOjE2MTQzOTA2NTl9.NlvrjAXeR07dpRem3bRgZbNSvgfnnFMyAn-gHBzbfgw"},A={getUser:function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"user/me",{method:"GET",headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProducts:function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"products",{method:"GET",headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getHistory:function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"user/history",{method:"GET",headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),redeem:function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"redeem",{body:JSON.stringify({productId:t}),method:"POST",headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addPoints:function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"user/points",{method:"POST",body:JSON.stringify({amount:t}),headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=Object(r.createContext)(),T=function(e){var t=Object(r.useState)(),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(!0),a=Object(o.a)(s,2),l=a[0],b=a[1],h=Object(r.useState)(!0),p=Object(o.a)(h,2),f=p[0],g=p[1],O=function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.abrupt("return",A.addPoints(t).then((function(e){i(Object(I.a)(Object(I.a)({},c),{},{points:e["New Points"]})),g(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(P.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.abrupt("return",A.redeem(t).then((function(){i(Object(I.a)(Object(I.a)({},c),{},{points:c.points-n})),g(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){A.getUser().then((function(e){i(e),g(!1),b(!1)}))}),[]),!c||l?Object(d.jsxs)(u.a,{bg:"primary",justify:"center",align:"center",height:"100vh",width:"100vw",children:[Object(d.jsx)(x.a,{src:"../assets/logo.svg",w:20,h:"{20"}),Object(d.jsx)(j.a,{textAlign:"center",children:"Loading..."})]}):Object(d.jsx)(H.Provider,{value:{user:c,setUser:i,addPoints:O,redeem:m,pointsLoading:f},children:e.children})};function M(){var e=Object(r.useContext)(H),t=e.user,n=e.addPoints,c=e.redeem,i=e.pointsLoading;return{points:t.points,addPoints:n,redeem:c,loading:i}}var E=n(68),W=n.n(E),J=function(e){var t=e.id,n=e.cost,r=M(),c=r.redeem,i=r.loading;return Object(d.jsxs)(u.a,{position:"absolute",top:"0",left:"0",bgGradient:"linear(to-b, #0ad4faCC 0%, #25bbf1CC 100%)",height:"100%",opacity:0,padding:2.5,rounded:4,spacing:4,width:"100%",zIndex:200,transitionDuration:"0.4s",transitionProperty:"transform",_hover:{opacity:"1"},children:[Object(d.jsx)(x.a,{src:"../assets/icons/buy-white.svg",maxH:"42px",maxW:"42px",alignSelf:"flex-end"}),Object(d.jsxs)(u.a,{isInline:!0,justify:"center",align:"center",children:[Object(d.jsx)(h.a,{fontSize:"36px",letterSpacing:"-0.08px",textAlign:"center",color:"white",children:n}),Object(d.jsx)(u.a,{children:Object(d.jsx)(x.a,{boxSize:"36px",borderRadius:"100%",marginTop:2.5,src:"../assets/icons/coin.svg"})})]}),Object(d.jsx)(y.a,{rounded:999,backgroundColor:"white",onClick:function(){i?W.a.fire({icon:"error",title:"Crap...",text:"You can't redeem now"}):c(t,n).then((function(){W.a.fire({icon:"success",title:"Product Buy!",text:"Wiiiii"})}))},children:"Redeem now"})]})};function B(){return Object(r.useContext)(H).user}var D=function(e){var t=e.product,n=B().points,c=t._id,i=t.name,s=t.cost,a=t.category,l=t.img,j=Object(r.useState)(!1),b=Object(o.a)(j,2),f=b[0],g=b[1];return Object(d.jsxs)(u.a,{bg:"white",boxShadow:"2px 2px 4px 0 rgba(0,0,0,0.1)",height:"276px",padding:2.5,position:"relative",rounded:4,spacing:0,width:"276px",transitionDuration:"0.4s",transitionProperty:"transform",_hover:{transform:"translateY(-0.7em)"},onMouseLeave:function(){return g(!1)},onMouseEnter:function(){return g(!0)},children:[n>=s&&Object(d.jsx)(J,{id:c,cost:s}),Object(d.jsxs)(u.a,{spacing:4,children:[Object(d.jsxs)(u.a,{spacing:0,alignItems:"flex-end",children:[n>=s?Object(d.jsx)(x.a,{src:"../assets/icons/buy-blue.svg",marginBottom:-10,maxH:"42px",maxW:"42px",opacity:f?0:1,zIndex:100}):Object(d.jsxs)(w.a,{bg:"#616161CC",marginBottom:-10,rounded:999,zIndex:100,children:[Object(d.jsxs)(w.b,{children:["You need ",s-n," "]}),Object(d.jsx)(x.a,{src:"../assets/icons/coin.svg",ml:1,mt:1,maxW:"32px",maxH:"32px"})]}),Object(d.jsx)(x.a,{src:l.hdUrl,alt:i}),Object(d.jsx)(p.a,{})]}),Object(d.jsxs)(u.a,{textAlign:"start",spacing:0,children:[Object(d.jsx)(h.a,{color:"#a3a3a3",children:a}),Object(d.jsx)(h.a,{color:"#616161",children:i})]})]})]})},L=n(16),N=function(e){var t=e.products,n=e.productsPerPage,c=Object(r.useState)(1),i=Object(o.a)(c,2),s=i[0],a=i[1],l=Object(r.useState)(t),j=Object(o.a)(l,2),b=j[0],O=j[1],m=Object(r.useState)("recent"),w=Object(o.a)(m,2),y=w[0],S=w[1];Object(r.useEffect)((function(){a(1),O(function(e,t){var n=Object(L.a)(e);switch(t){case"lowest":return n.sort((function(e,t){return e.cost-t.cost}));case"highest":return n.sort((function(e,t){return t.cost-e.cost}));default:return n.sort((function(e,t){return e._id>t._id?1:t._id>e._id?-1:0}))}}(t,y))}),[y,t]);return Object(d.jsxs)(u.a,{padding:4,spacing:3,children:[Object(d.jsxs)(u.a,{alignItems:"center",align:"center",as:"nav",justify:"space-between",direction:{base:"column",sm:"row"},children:[Object(d.jsxs)(u.a,{isInline:!0,align:"center",children:[Object(d.jsxs)(h.a,{color:"gray.700",fontWeight:"semibold",children:[s*n," of ",t.length," products"]}),Object(d.jsx)(p.a,{orientation:"vertical"}),Object(d.jsx)(v,{sortSelected:y,handleChange:function(e){S(e)}})]}),Object(d.jsxs)(u.a,{display:{base:"none",sm:"flex"},children:[1!==s&&Object(d.jsx)(x.a,{cursor:"pointer",src:"../assets/icons/arrow-left.svg",onClick:function(){return a((function(e){return e-1}))}}),n!==t.length/s&&Object(d.jsx)(x.a,{cursor:"pointer",src:"../assets/icons/arrow-right.svg",onClick:function(){return a((function(e){return e+1}))}})]})]}),Object(d.jsx)(p.a,{variant:"solid"}),Object(d.jsx)(f.a,{gap:3,templateColumns:"repeat(auto-fill, minmax(276px, 1fr))",width:"100%",justifyItems:"center",children:null===b||void 0===b?void 0:b.slice((s-1)*n,n*s).map((function(e,t){return Object(d.jsx)(g.a.div,{animate:"visible",custom:t,initial:"hidden",variants:{hidden:{opacity:0,y:150},visible:function(e){return{opacity:1,y:0,transition:{delay:.06*e}}}},children:Object(d.jsx)(D,{product:e},e._id)},e._id)}))}),Object(d.jsx)(p.a,{variant:"solid"}),Object(d.jsxs)(u.a,{isInline:!0,align:"center",justify:"space-between",children:[Object(d.jsxs)(h.a,{color:"gray.700",fontWeight:"semibold",children:[s*n," of ",t.length," products"]}),Object(d.jsxs)(u.a,{isInline:!0,children:[1!==s&&Object(d.jsx)(x.a,{cursor:"pointer",src:"../assets/icons/arrow-left.svg",onClick:function(){return a((function(e){return e-1}))}}),n!==t.length/s&&Object(d.jsx)(x.a,{cursor:"pointer",src:"../assets/icons/arrow-right.svg",onClick:function(){return a((function(e){return e+1}))}})]})]})]})},R=n(126),_=function(e){var t=e.productsPerPage;return Object(d.jsxs)(u.a,{padding:8,spacing:3,textAlign:"center",children:[Object(d.jsx)(u.a,{align:"center",padding:2}),Object(d.jsx)(p.a,{}),Object(d.jsx)(f.a,{gap:3,templateColumns:"repeat(auto-fill, minmax(276px, 1fr))",width:"100%",justifyItems:"center",children:Object(L.a)(Array(t)).map((function(e,t){return Object(d.jsx)(R.a,{height:"276px",width:"276px"},t)}))})]})},Y=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(!0),s=Object(o.a)(i,2),a=s[0],l=s[1];return Object(r.useEffect)((function(){A.getProducts().then((function(e){c(e),l(!1)}))}),[]),Object(d.jsxs)(u.a,{bg:"#f9f9f9",children:[Object(d.jsx)(b,{}),a?Object(d.jsx)(_,{productsPerPage:16}):Object(d.jsx)(N,{products:n,productsPerPage:16})]})},U=function(){var e,t=Object(r.useContext)(H).user;return Object(d.jsxs)(u.a,{bg:"#f9f9f9",minH:"100vh",spacing:3,children:[Object(d.jsx)(l.a,{background:"url(../assets/header.png) center right",backgroundSize:"cover",filter:"invert(20%)",minHeight:"200px",width:"100%",children:Object(d.jsx)(j.a,{color:"white",fontSize:"64px",alignSelf:"flex-end",padding:6,children:"History"})}),Object(d.jsx)(u.a,{padding:4,children:Object(d.jsx)(f.a,{gap:4,templateColumns:"repeat(auto-fill, minmax(320px, 1fr))",width:"100%",children:null===(e=t.redeemHistory)||void 0===e?void 0:e.slice(0).reverse().map((function(e){var t=new Date(e.createDate);return Object(d.jsxs)(u.a,{border:"2px",borderColor:"secondary",isInline:!0,alignItems:"center",children:[Object(d.jsx)(u.a,{h:"100%",bg:"white",children:Object(d.jsx)(x.a,{alt:e.name,src:e.img.hdUrl,w:"300px",objectFit:"contain",h:"100%"})}),Object(d.jsxs)(u.a,{w:"100%",justify:"center",spacing:0,children:[Object(d.jsx)(h.a,{color:"#a3a3a3",fontWeight:"bold",children:e.category}),Object(d.jsx)(h.a,{fontWeight:"bold",children:e.name}),Object(d.jsxs)(h.a,{children:["Date: ",t.toLocaleDateString("es-ar")]})]}),Object(d.jsxs)(u.a,{w:"100%",justify:"center",align:"center",spacing:0,isInline:!0,children:[Object(d.jsx)(h.a,{align:"center",children:e.cost}),Object(d.jsx)(x.a,{src:"../assets/icons/coin.svg"})]})]},e.createDate)}))})})]})},F=function(){return Object(d.jsxs)(a.d,{children:[Object(d.jsx)(a.b,{path:"/redeems",component:U}),Object(d.jsx)(a.b,{path:"/home",component:Y}),Object(d.jsx)(a.a,{to:"/home"})]})},G=n(38),X=n(46),Q=n(134),V=n(128),Z=n(131),q=function(e){var t=e.userPoints,n=e.handleAddCoins,c=e.loading,i=Object(r.useState)(!1),s=Object(o.a)(i,2),a=s[0],l=s[1];return Object(d.jsxs)(V.a,{children:[Object(d.jsx)(V.g,{children:Object(d.jsxs)(y.a,{rounded:99,height:"48px",isLoading:c,spinner:Object(d.jsx)(Z.a,{isIndeterminate:!0,color:"secondary"}),onClick:function(){return l(!a)},children:[Object(d.jsx)(h.a,{fontSize:"xl",color:"#616161",letterSpacing:"-0.15px",lineHeight:"48px",children:t}),Object(d.jsx)(x.a,{src:"../assets/icons/coin.svg",ml:1,mt:1})]})}),Object(d.jsxs)(V.e,{children:[Object(d.jsx)(V.b,{}),Object(d.jsx)(V.d,{}),Object(d.jsx)(V.f,{children:Object(d.jsx)(h.a,{children:"Add Coins to your Wallet!"})}),Object(d.jsx)(V.c,{children:Object(d.jsx)(u.a,{isInline:!0,align:"center",children:[1e3,5e3,7500].map((function(e){return Object(d.jsxs)(y.a,{rounded:99,value:e,disabled:c,color:"#616161",letterSpacing:"-0.15px",onClick:function(){return n(e)},children:[e,Object(d.jsx)(x.a,{src:"../assets/icons/coin.svg",ml:1,mt:1,width:6,cursor:"default"})]},e)}))})})]})]})},K=function(){var e=B().name,t=M(),n=t.points,r=t.addPoints,c=t.loading;return Object(d.jsxs)(u.a,{as:"nav",isInline:!0,alignItems:"center",height:"80px",justifyContent:"space-between",bg:"white",children:[Object(d.jsx)(G.b,{to:"/home",children:Object(d.jsx)(x.a,{src:"../assets/logo.svg",ml:4})}),Object(d.jsxs)(u.a,{isInline:!0,align:"center",justify:"center",mr:4,children:[Object(d.jsx)(h.a,{fontSize:"xl",color:"#616161",letterSpacing:"-0.15px",lineHeight:"48px",children:e}),Object(d.jsx)(y.a,{variant:"link",as:G.b,to:"/redeems",children:Object(d.jsx)(X.a,{as:Q.a,color:"secondary",height:10,width:10})}),Object(d.jsx)(q,{handleAddCoins:function(e){r(e)},loading:c,userPoints:n})]})]})},$=function(e){e.textcolor,e.position;return Object(d.jsxs)(h.a,{cursor:"pointer",onClick:function(){return window.open("https://juanmaportfolio.netlify.app/")},textAlign:"center",textColor:"white",children:["Aerolab Challenge Copyright \xa9 Juan Manuel Ibarzabal Salles"," ",(new Date).getFullYear(),"."]})},ee=function(){return Object(d.jsx)(u.a,{textAlign:"center",justify:"center",bg:"black",paddingY:4,as:"footer",children:Object(d.jsx)($,{})})},te=function(){return Object(d.jsx)(T,{children:Object(d.jsx)(u.a,{maxW:"1440px",width:"100%",margin:"auto",bg:"#f9f9f9",m:{base:0,xl:4},spacing:0,minH:"100vh",children:Object(d.jsxs)(G.a,{children:[Object(d.jsx)(K,{}),Object(d.jsx)(F,{}),Object(d.jsx)(ee,{})]})})})},ne=n(127),re=Object(ne.a)({colors:{primary:"#0ad4fa",secondary:"#FF7F01"},fonts:{body:"SourceSansPro-Regular, system-ui, sans-serif",heading:"SourceSansPro-Bold",mono:"SourceSansPro-Bold"},shadows:{outline:"0"}}),ce=n(130);s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(ce.a,{resetCSS:!0,theme:re,children:Object(d.jsx)(te,{})})}),document.getElementById("root"))},94:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.cf78a28d.chunk.js.map