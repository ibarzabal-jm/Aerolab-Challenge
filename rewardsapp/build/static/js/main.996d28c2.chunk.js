(this.webpackJsonprewardsapp=this.webpackJsonprewardsapp||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(81),a=n.n(i),s=(n(94),n(11)),o=n(4),u=n(132),l=n(119),d=n(120),j=n(2),b=function(){return Object(j.jsx)(l.a,{background:"url(../assets/header.png) center right",backgroundSize:"cover",minHeight:"300px",width:"100%",children:Object(j.jsx)(d.a,{color:"white",fontSize:"64px",alignSelf:"flex-end",padding:6,children:"Electronics"})})},h=n(121),x=n(124),p=n(133),f=n(125),g=n(34),O=n(108),m=n(122),v=function(e){var t=e.sortSelected,n=e.handleChange,r=Object(O.a)({base:"base",sm:"small"});return Object(j.jsxs)(u.a,{alignItems:"center",direction:{base:"column",sm:"row"},children:[Object(j.jsx)(h.a,{color:"a3a3a3",children:"Sort by:"}),Object(j.jsx)(u.a,{direction:"row",spacing:2,children:[{value:"recent",fullText:"Most Recent",mobile:"Recent"},{value:"lowest",fullText:"Lowest Price",mobile:"Lowest"},{value:"highest",fullText:"Highest Price",mobile:"Highest"}].map((function(e){return Object(j.jsx)(m.a,{as:"button",bg:e.value===t?"primary":"#ededed",color:e.value===t?"white":"#a3a3a3",cursor:"pointer",paddingY:1,paddingX:4,rounded:999,onClick:function(){return n(e.value)},children:Object(j.jsx)(h.a,{children:"base"===r?e.mobile:e.fullText})},e.value)}))})]})},w=n(123),y=n(129),S=n(17),C=n.n(S),I=n(68),P=n(31),k="https://coding-challenge-api.aerolab.co/",z={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDM5YTU4MzdlNzE4NzAwMjBlMzhmMzgiLCJpYXQiOjE2MTQzOTA2NTl9.NlvrjAXeR07dpRem3bRgZbNSvgfnnFMyAn-gHBzbfgw"},A={getUser:function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"user/me",{method:"GET",headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProducts:function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"products",{method:"GET",headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getHistory:function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"user/history",{method:"GET",headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),redeem:function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"redeem",{body:JSON.stringify({productId:t}),method:"POST",headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addPoints:function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(k+"user/points",{method:"POST",body:JSON.stringify({amount:t}),headers:z}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=n(46),T=n.n(H),M={duration:.3,yoyo:1/0,ease:"easeOut"},E=function(){return Object(j.jsxs)(u.a,{bg:"primary",justify:"center",align:"center",height:"100vh",width:"100vw",children:[Object(j.jsx)(g.a.image,{transition:{y:M,width:M,height:M},animate:{y:["0%","-100%"]},children:Object(j.jsx)(p.a,{src:"../assets/logo.svg",w:20})}),Object(j.jsx)(d.a,{textAlign:"center",children:"Loading..."})]})},L=Object(r.createContext)(),W=function(e){var t=Object(r.useState)(),n=Object(o.a)(t,2),c=n[0],i=n[1],a=Object(r.useState)(!0),s=Object(o.a)(a,2),u=s[0],l=s[1],d=Object(r.useState)(!0),b=Object(o.a)(d,2),h=b[0],x=b[1],p=function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.abrupt("return",A.addPoints(t).then((function(e){i(Object(I.a)(Object(I.a)({},c),{},{points:e["New Points"]})),x(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.abrupt("return",A.redeem(t).then((function(e){var t=e.message,n=e.error;t?A.getUser().then((function(e){return i(e)})).then((function(){x(!1),T.a.fire({icon:"success",title:"Product Buy!",text:"Wiiiii"})})):(T.a.fire({icon:"error",title:"Crap...",text:"You can't redeem now, report with admin",footer:n}),x(!1))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){A.getUser().then((function(e){i(e),x(!1),l(!1)}))}),[]),!c||u?Object(j.jsx)(E,{}):Object(j.jsx)(L.Provider,{value:{user:c,addPoints:p,redeem:f,pointsLoading:h},children:e.children})};function J(){var e=Object(r.useContext)(L),t=e.user,n=e.addPoints,c=e.redeem,i=e.pointsLoading;return{points:t.points,addPoints:n,redeem:c,loading:i}}var B=function(e){var t=e.id,n=e.cost,r=J(),c=r.redeem,i=r.loading;return Object(j.jsxs)(u.a,{position:"absolute",top:"0",left:"0",bgGradient:"linear(to-b, #0ad4faCC 0%, #25bbf1CC 100%)",height:"100%",opacity:0,padding:2.5,rounded:4,spacing:4,width:"100%",zIndex:200,transitionDuration:"0.4s",transitionProperty:"transform",_hover:{opacity:"1"},children:[Object(j.jsx)(p.a,{src:"../assets/icons/buy-white.svg",maxH:"42px",maxW:"42px",alignSelf:"flex-end"}),Object(j.jsxs)(u.a,{isInline:!0,justify:"center",align:"center",children:[Object(j.jsx)(h.a,{fontSize:"36px",letterSpacing:"-0.08px",textAlign:"center",color:"white",children:n}),Object(j.jsx)(u.a,{children:Object(j.jsx)(p.a,{boxSize:"36px",borderRadius:"100%",marginTop:2.5,src:"../assets/icons/coin.svg"})})]}),Object(j.jsx)(y.a,{rounded:999,backgroundColor:"white",isLoading:i,onClick:function(){i?T.a.fire({icon:"error",title:"Can't redeem",text:"You can't redeem now, await actual redeem"}):c(t,n)},children:"Redeem now"})]})};function D(){return Object(r.useContext)(L).user}var N=function(e){var t=e.product,n=D().points,c=t._id,i=t.name,a=t.cost,s=t.category,l=t.img,d=Object(r.useState)(!1),b=Object(o.a)(d,2),f=b[0],g=b[1];return Object(j.jsxs)(u.a,{bg:"white",boxShadow:"2px 2px 4px 0 rgba(0,0,0,0.1)",height:"276px",padding:2.5,position:"relative",rounded:4,spacing:0,width:"276px",transitionDuration:"0.4s",transitionProperty:"transform",_hover:{transform:"translateY(-0.7em)"},onMouseLeave:function(){return g(!1)},onMouseEnter:function(){return g(!0)},children:[n>=a&&Object(j.jsx)(B,{id:c,cost:a}),Object(j.jsxs)(u.a,{spacing:4,children:[Object(j.jsxs)(u.a,{spacing:0,alignItems:"flex-end",children:[n>=a?Object(j.jsx)(p.a,{src:"../assets/icons/buy-blue.svg",marginBottom:-10,maxH:"42px",maxW:"42px",opacity:f?0:1,zIndex:100}):Object(j.jsxs)(w.a,{bg:"#616161CC",marginBottom:-10,rounded:999,zIndex:100,children:[Object(j.jsxs)(w.b,{children:["You need ",a-n," "]}),Object(j.jsx)(p.a,{src:"../assets/icons/coin.svg",ml:1,mt:1,maxW:"32px",maxH:"32px"})]}),Object(j.jsx)(p.a,{src:l.hdUrl,alt:i}),Object(j.jsx)(x.a,{})]}),Object(j.jsxs)(u.a,{textAlign:"start",spacing:0,children:[Object(j.jsx)(h.a,{color:"#a3a3a3",children:s}),Object(j.jsx)(h.a,{color:"#616161",children:i})]})]})]})},R=n(16),Y=function(e){var t=e.products,n=e.productsPerPage,c=Object(r.useState)(1),i=Object(o.a)(c,2),a=i[0],s=i[1],l=Object(r.useState)(t),d=Object(o.a)(l,2),b=d[0],O=d[1],m=Object(r.useState)("recent"),w=Object(o.a)(m,2),y=w[0],S=w[1];Object(r.useEffect)((function(){s(1),O(function(e,t){var n=Object(R.a)(e);switch(t){case"lowest":return n.sort((function(e,t){return e.cost-t.cost}));case"highest":return n.sort((function(e,t){return t.cost-e.cost}));default:return n.sort((function(e,t){return e._id>t._id?1:t._id>e._id?-1:0}))}}(t,y))}),[y,t]);return Object(j.jsxs)(u.a,{padding:4,spacing:3,children:[Object(j.jsxs)(u.a,{alignItems:"center",align:"center",as:"nav",justify:"space-between",direction:{base:"column",sm:"row"},children:[Object(j.jsxs)(u.a,{isInline:!0,align:"center",children:[Object(j.jsxs)(h.a,{color:"gray.700",fontWeight:"semibold",children:[a*n," of ",t.length," products"]}),Object(j.jsx)(x.a,{display:["none","initial"],h:"32px",orientation:"vertical"}),Object(j.jsx)(v,{sortSelected:y,handleChange:function(e){S(e)}})]}),Object(j.jsxs)(u.a,{display:{base:"none",sm:"flex"},children:[1!==a&&Object(j.jsx)(p.a,{cursor:"pointer",src:"../assets/icons/arrow-left.svg",onClick:function(){return s((function(e){return e-1}))}}),n!==t.length/a&&Object(j.jsx)(p.a,{cursor:"pointer",src:"../assets/icons/arrow-right.svg",onClick:function(){return s((function(e){return e+1}))}})]})]}),Object(j.jsx)(x.a,{variant:"solid"}),Object(j.jsx)(f.a,{gap:3,templateColumns:"repeat(auto-fill, minmax(276px, 1fr))",width:"100%",justifyItems:"center",children:null===b||void 0===b?void 0:b.slice((a-1)*n,n*a).map((function(e,t){return Object(j.jsx)(g.a.div,{animate:"visible",layout:!0,custom:t,initial:"hidden",variants:{hidden:{opacity:0,y:100},visible:function(e){return{opacity:1,y:0,transition:{delay:.06*e}}}},children:Object(j.jsx)(N,{product:e},e._id)},e._id)}))}),Object(j.jsx)(x.a,{variant:"solid"}),Object(j.jsxs)(u.a,{isInline:!0,align:"center",justify:"space-between",children:[Object(j.jsxs)(h.a,{color:"gray.700",fontWeight:"semibold",children:[a*n," of ",t.length," products"]}),Object(j.jsxs)(u.a,{isInline:!0,children:[1!==a&&Object(j.jsx)(p.a,{cursor:"pointer",src:"../assets/icons/arrow-left.svg",onClick:function(){return s((function(e){return e-1}))}}),n!==t.length/a&&Object(j.jsx)(p.a,{cursor:"pointer",src:"../assets/icons/arrow-right.svg",onClick:function(){return s((function(e){return e+1}))}})]})]})]})},_=n(126),U=function(e){var t=e.productsPerPage;return Object(j.jsxs)(u.a,{padding:8,spacing:3,textAlign:"center",children:[Object(j.jsx)(u.a,{align:"center",padding:2}),Object(j.jsx)(x.a,{}),Object(j.jsx)(f.a,{gap:3,templateColumns:"repeat(auto-fill, minmax(276px, 1fr))",width:"100%",justifyItems:"center",children:Object(R.a)(Array(t)).map((function(e,t){return Object(j.jsx)(g.a.div,{animate:"visible",layout:!0,custom:t,initial:"hidden",variants:{hidden:{opacity:0,y:100},visible:function(e){return{opacity:1,y:0,transition:{delay:.06*e}}}},children:Object(j.jsxs)(u.a,{bg:"white",boxShadow:"2px 2px 4px 0 rgba(0,0,0,0.1)",padding:2.5,height:"276px",width:"276px",children:[Object(j.jsx)(_.b,{alignSelf:"flex-end"}),Object(j.jsx)(_.a,{children:Object(j.jsx)(u.a,{w:"240px",h:"160px"})}),Object(j.jsx)(x.a,{}),Object(j.jsx)(_.c,{mt:"4",noOfLines:2,spacing:"4",w:28})]})},t)}))})]})},F=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(!0),a=Object(o.a)(i,2),s=a[0],l=a[1];return Object(r.useEffect)((function(){A.getProducts().then((function(e){c(e),l(!1)}))}),[]),Object(j.jsxs)(u.a,{bg:"#f9f9f9",children:[Object(j.jsx)(b,{}),s?Object(j.jsx)(U,{productsPerPage:16}):Object(j.jsx)(Y,{products:n,productsPerPage:16})]})},G=function(){var e,t=D();return Object(j.jsxs)(u.a,{bg:"#f9f9f9",minH:"100vh",spacing:3,children:[Object(j.jsx)(l.a,{background:"url(../assets/header.png) center right",backgroundSize:"cover",filter:"invert(20%)",minHeight:"200px",width:"100%",children:Object(j.jsx)(d.a,{color:"white",fontSize:"64px",alignSelf:"flex-end",padding:6,children:"History"})}),Object(j.jsx)(u.a,{padding:4,children:Object(j.jsx)(f.a,{gap:4,templateColumns:"repeat(auto-fill, minmax(320px, 1fr))",width:"100%",children:null===(e=t.redeemHistory)||void 0===e?void 0:e.slice(0).reverse().map((function(e){var t=new Date(e.createDate);return Object(j.jsxs)(u.a,{border:"2px",borderColor:"secondary",isInline:!0,alignItems:"center",children:[Object(j.jsx)(u.a,{h:"100%",bg:"white",children:Object(j.jsx)(p.a,{alt:e.name,src:e.img.hdUrl,w:"300px",objectFit:"contain",h:"100%"})}),Object(j.jsxs)(u.a,{w:"100%",justify:"center",spacing:0,children:[Object(j.jsx)(h.a,{color:"#a3a3a3",fontWeight:"bold",children:e.category}),Object(j.jsx)(h.a,{fontWeight:"bold",children:e.name}),Object(j.jsxs)(h.a,{children:["Date: ",t.toLocaleDateString("es-ar")]})]}),Object(j.jsxs)(u.a,{w:"100%",justify:"center",align:"center",spacing:0,isInline:!0,children:[Object(j.jsx)(h.a,{align:"center",children:e.cost}),Object(j.jsx)(p.a,{src:"../assets/icons/coin.svg"})]})]},e.createDate)}))})})]})},X=function(){return Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{path:"/redeems",component:G}),Object(j.jsx)(s.b,{path:"/home",component:F}),Object(j.jsx)(s.a,{to:"/home"})]})},Q=n(39),V=n(47),Z=n(134),q=n(128),K=n(131),$=function(e){var t=e.userPoints,n=e.handleAddCoins,c=e.loading,i=Object(r.useState)(!1),a=Object(o.a)(i,2),s=a[0],l=a[1];return Object(j.jsxs)(q.a,{children:[Object(j.jsx)(q.g,{children:Object(j.jsxs)(y.a,{rounded:99,height:"48px",isLoading:c,spinner:Object(j.jsx)(K.a,{isIndeterminate:!0,color:"secondary"}),onClick:function(){return l(!s)},children:[Object(j.jsx)(h.a,{fontSize:"xl",color:"#616161",letterSpacing:"-0.15px",lineHeight:"48px",children:t}),Object(j.jsx)(p.a,{src:"../assets/icons/coin.svg",ml:1,mt:1})]})}),Object(j.jsxs)(q.e,{children:[Object(j.jsx)(q.b,{}),Object(j.jsx)(q.d,{}),Object(j.jsx)(q.f,{children:Object(j.jsx)(h.a,{children:"Add Coins to your Wallet!"})}),Object(j.jsx)(q.c,{children:Object(j.jsx)(u.a,{isInline:!0,align:"center",children:[1e3,5e3,7500].map((function(e){return Object(j.jsxs)(y.a,{rounded:99,value:e,disabled:c,color:"#616161",letterSpacing:"-0.15px",onClick:function(){return n(e)},children:[e,Object(j.jsx)(p.a,{src:"../assets/icons/coin.svg",ml:1,mt:1,width:6,cursor:"default"})]},e)}))})})]})]})},ee=function(){var e=D().name,t=J(),n=t.points,r=t.addPoints,c=t.loading;return Object(j.jsxs)(u.a,{as:"nav",isInline:!0,alignItems:"center",height:"80px",justifyContent:"space-between",bg:"white",children:[Object(j.jsx)(Q.b,{to:"/home",children:Object(j.jsx)(p.a,{src:"../assets/logo.svg",ml:4})}),Object(j.jsxs)(u.a,{isInline:!0,align:"center",justify:"center",mr:4,children:[Object(j.jsx)(h.a,{fontSize:"xl",color:"#616161",letterSpacing:"-0.15px",lineHeight:"48px",children:e}),Object(j.jsx)(y.a,{variant:"link",as:Q.b,to:"/redeems",children:Object(j.jsx)(V.a,{as:Z.a,color:"secondary",height:10,width:10})}),Object(j.jsx)($,{handleAddCoins:function(e){r(e)},loading:c,userPoints:n})]})]})},te=function(e){e.textcolor,e.position;return Object(j.jsxs)(h.a,{cursor:"pointer",onClick:function(){return window.open("https://juanmaportfolio.netlify.app/")},textAlign:"center",textColor:"white",children:["Aerolab Challenge Copyright \xa9 Juan Manuel Ibarzabal Salles"," ",(new Date).getFullYear(),"."]})},ne=function(){return Object(j.jsx)(u.a,{textAlign:"center",justify:"center",bg:"black",paddingY:4,as:"footer",children:Object(j.jsx)(te,{})})},re=function(){return Object(j.jsxs)(u.a,{maxW:"1440px",width:"100%",margin:"auto",bg:"#f9f9f9",m:{base:0,xl:4},spacing:0,minH:"100vh",children:[Object(j.jsx)(ee,{}),Object(j.jsx)(X,{}),Object(j.jsx)(ne,{})]})},ce=n(127),ie=Object(ce.a)({colors:{primary:"#0ad4fa",secondary:"#FF7F01"},fonts:{body:"SourceSansPro-Regular, system-ui, sans-serif",heading:"SourceSansPro-Bold",mono:"SourceSansPro-Bold"},shadows:{outline:"0"}}),ae=n(130);a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(ae.a,{resetCSS:!0,theme:ie,children:Object(j.jsx)(W,{children:Object(j.jsx)(Q.a,{children:Object(j.jsx)(re,{})})})})}),document.getElementById("root"))},94:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.996d28c2.chunk.js.map